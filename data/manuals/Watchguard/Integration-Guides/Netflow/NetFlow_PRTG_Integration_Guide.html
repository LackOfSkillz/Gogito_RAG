<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|Fireware" data-mc-conditions="all.PrintOnly,all.ScreenOnly" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Firebox NetFlow and PRTG Integration Guide</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1 id="FireboxNetFlowandPRTGIntegrationGuide" data-magellan-target="FireboxNetFlowandPRTGIntegrationGuide"><a name="aanchor1401"></a>
                                            <MadCap:concept term="Self-Help Tools" />Firebox NetFlow and PRTG Integration Guide</h1>
                                        <h3 id="Contents" data-magellan-target="Contents">Contents</h3>
                                        <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 980px)" class="nocontent menu _Skins_Help_Center_Menu_Slide mc-component">
                                            <li class="tree-node"><a href="#FireboxNetFlowandPRTGIntegrationGuide">Firebox NetFlow and PRTG Integration Guide</a>
                                            </li>
                                            <li>
                                                <ul>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#Contents">Contents</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#DeploymentOverview">Deployment Overview</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#Topology">Topology</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#BeforeYouBegin">Before You Begin</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfigureYourFireboxforPRTGNetworkMonitor">Configure Your Firebox for PRTG Network Monitor</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfigureYourPRTGNetworkMonitor">Configure Your PRTG Network Monitor</a>
                                                    </li>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#AddaDevice">Add a Device</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#AddaNetFlowv9Sensor">Add a NetFlow v9 Sensor</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#TesttheIntegration">Test the Integration</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <h2 id="DeploymentOverview" data-magellan-target="DeploymentOverview">Deployment Overview</h2>
                                        <p>This document describes how to configure your Firebox as a NetFlow exporter to integrate with the PRTG network monitor service. </p>
                                        <h2 id="Topology" data-magellan-target="Topology">Topology</h2>
                                        <p>This diagram shows a typical NetFlow topology.
			</p>
                                        <p class="img">
                                            <img src="../Netflow_images/NetFlow_PRTG/NetFlow-Topology.png" alt="Screen shot of a typical NetFlow topology" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <h2 id="BeforeYouBegin" data-magellan-target="BeforeYouBegin">Before You Begin</h2>
                                        <p>Before you begin these procedures, make sure that:</p>
                                        <ul>
                                            <li>The PRTG Network Monitor version is 23.2.84.1566 x64</li>
                                            <li>Your PRTG Network Monitor services are running</li>
                                            <li>You have a Firebox that runs Fireware v12.9.4 (Build 682007) or higher</li>
                                        </ul>
                                        <h2 id="ConfigureYourFireboxforPRTGNetworkMonitor" data-magellan-target="ConfigureYourFireboxforPRTGNetworkMonitor">Configure Your Firebox for PRTG Network Monitor</h2>
                                        <p>You must configure your Firebox as a NetFlow exporter and specify connection settings for the NetFlow collector.</p>
                                        <p>To configure your Firebox as a NetFlow exporter, from Fireware Web UI:</p>
                                        <ol data-mc-continue="true">
                                            <li value="1">Select <b>System &gt; NetFlow</b>.</li>
                                            <li value="2">Click <img src="../Netflow_images/NetFlow_PRTG/key-icon.png" alt="The screenshot of key-icon" style="max-width: 100%;max-height: auto;" /> to unlock and make changes.</li>
                                            <li value="3">Select <b>Enable NetFlow</b>.</li>
                                            <li value="4">For the <b>Protocol Version</b>, select <b>V9</b>. </li>
                                            <li value="5">In the <b>Collector Address</b> text box, type the IP address of the NetFlow collector.</li>
                                            <li value="6">In the <b>Port</b> text box, type <span class="Input">8885</span>.<br />The Firebox must be able to communicate with the NetFlow collector at the specified IP address and port with the UDP protocol.<br /></li>
                                            <li value="7">In the <b>Active Flow Timeout</b> text box, type <span style="font-family: 'Courier New';">20</span>.<br />The <b>Active Flow Timeout</b> setting segments your flow into small flows based on the value you specify. We recommend that you specify an <b>Active Flow Timeout</b> value that is lower than the <b>Active Flow Timeout</b> value on the collector. This helps to avoid data loss. If the Active Flow Timeout value is lower on the collector, the collector might stop listening while the Firebox is sending data.</li>
                                            <li value="8"> Keep the <b>Sampling Mode</b> disabled. </li>
                                            <li value="9">To monitor Firebox traffic, select  the <b>Monitor Traffic Generated by the Firebox</b> and <b>Monitor Traffic Destined for the Firebox</b> check boxes.</li>
                                            <li value="10">To enable NetFlow for an interface, select the check box adjacent to that interface.<br />If you have many interfaces, use the <b>Interface Name</b> search box or select an option from the <b>Type</b> or <b>Zone</b> drop-down list to find an interface quickly.</li>
                                            <li value="11">To select all interfaces, select the check box adjacent to the <b>Interface Name</b> text box.</li>
                                            <li value="12">Click <b>Save</b>.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/Fireware-enable-Netflow.png" alt="Screen shot of the enable Netflow in Firebox" style="max-width: 100%;max-height: auto;" />
                                            </p>
                                        </ol>
                                        <p>For more information about NetFlow on the Firebox, go to  <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/basicadmin/netflow_about.html" target="_blank">About NetFlow</a> and <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/basicadmin/netflow_configure.html" target="_blank">Configure NetFlow</a> in <i>Fireware Help</i>.</p>
                                        <h2 id="ConfigureYourPRTGNetworkMonitor" data-magellan-target="ConfigureYourPRTGNetworkMonitor">Configure Your PRTG Network Monitor</h2>
                                        <p>After you configure the Firebox, you must configure the PRTG Network Monitor settings.</p>
                                        <h3 id="AddaDevice" data-magellan-target="AddaDevice">Add a Device</h3>
                                        <p>To add a device:</p>
                                        <ol>
                                            <li value="1">Log in to the PRTG web console with your administrator account.<br />When you first start the thread, Network Monitor searches for all devices in your network that it can reach.</li>
                                            <li value="2">If your Firebox is detected, go to <a href="#Add">Add a NetFlow v9 Sensor</a>. </li>
                                            <li value="3">If your Firebox is not detected, select <b>Devices &gt; Add Device</b> to add it manually.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Device000.png" alt="Screen shot of the Devices menu in PRTG" style="max-width: 100%;max-height: auto;" />
                                            </p>
                                            <li value="4">Select a group for your Firebox. Click <b>OK</b>.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Device001.png" alt="Screen shot of the add a device in PRTG" style="max-width: 100%;max-height: auto;" />
                                            </p>
                                            <li value="5">In the <b>Device Name</b> text box, type your Firebox device name.</li>
                                            <li value="6">For the <b>IP Version</b>, select <b>IPv4</b>.</li>
                                            <li value="7">In the <b>IPv4 Address/DNS&#160;Name</b> text box, type the IPv4 address of your Firebox. </li>
                                            <li value="8">(Optional) Select a device icon.</li>
                                            <li value="9">Keep the default settings for all other options. Click <b>OK</b>.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Device002.png" alt="Screen shot of the add a device details in PRTG" style="max-width: 100%;max-height: auto;" />
                                            </p>
                                        </ol>
                                        <h3 id="AddaNetFlowv9Sensor" data-magellan-target="AddaNetFlowv9Sensor"><a name="Add"></a>Add a NetFlow v9 Sensor</h3>
                                        <p>To add a NetFlow v9 sensor:</p>
                                        <ol start="">
                                            <li value="1">Right-click the Firebox in the list,  and select <b>Add Sensor</b>. <br />Or, click <b>Add Sensor</b> under your device sensor list.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Sensor001.png" alt="Screen shot of the Add a sensor 001" style="max-height: auto;max-width: 100%;" />
                                            </p>
                                            <li value="2">From  the <b>Technology Used?</b> section, select <b>Flow Protocols</b>. </li>
                                            <li value="3">Select  <b>NetFlow v9</b>.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Sensor002.png" alt="The screeshot of Flow Protocols" style="max-height: auto;max-width: 100%;" />
                                            </p>
                                            <li value="4">In the <b>Receive Packets on UDP Port</b> text box, type <span class="Input">8885</span>.<br /><span> This value must be the same as  the UDP port number in the NetFlow export options of the Firebox.</span></li>
                                            <li value="5">Select one or more local IP&#160;addresses for <b>Receive Packets on IP Address</b>. </li>
                                            <li value="6">In the <b>Active Flow Timeout</b> text box, type a value. PRTG recommends a value that is 1 minute greater than the Active Flow Timeout value you configured on the Firebox.</li>
                                            <li value="7">For <b>Sampling Mode</b>, select <b>Off</b>.</li>
                                            <li value="8">Keep the default settings for all other options.</li>
                                            <li value="9">Click <b>Create</b>.</li>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Sensor003.png" alt="Screenshot of the add the sensor 003 in PRTG" style="max-width: 100%;max-height: auto;" />
                                            </p>
                                        </ol>
                                        <h2 id="TesttheIntegration" data-magellan-target="TesttheIntegration">Test the Integration</h2>
                                        <p>After you configure the Firebox and PRTG&#160;NetFlow settings, the sensor shows a connected status. You can click the sensor to view the details of the flow in your collector.</p>
                                        <ol>
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/PRTG-Add_a_Sensor004.png" alt="Screen shot of the sensor status in PRTG" />
                                            </p>
                                        </ol>
                                        <ol start="2" data-mc-continue="true">
                                            <p class="img_indent_1">
                                                <img src="../Netflow_images/NetFlow_PRTG/NetFlow-Test.png" style="width: 1163px;height: 596px;max-width: 100%;max-height: auto;" alt="Screen shot of the Overview page in PRTG" />&#160;</p>
                                        </ol>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;●&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;●&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;●&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>