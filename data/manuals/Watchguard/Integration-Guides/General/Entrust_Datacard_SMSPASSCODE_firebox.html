<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|Fireware" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Entrust Datacard SMS PASSCODE  and Firebox Integration Guide</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor2354"></a>
                                            <MadCap:concept term="Self-Help Tools" />Entrust Datacard SMS PASSCODE  and Firebox Integration Guide</h1>
                                        <h2>Deployment Overview</h2>
                                        <p>WatchGuard provides integration instructions to help our customers configure WatchGuard products to work with products created by other organizations. If you need more information or technical support about how to configure a third-party product, see the documentation and support resources for that product.</p>
                                        <p>This integration guide describes how to configure Firebox and Entrust Datacard  SMS PASSCODE.</p>
                                        <p>In our integration, SMS PASSCODE and Network Policy Server (NPS) are installed on one Windows Server. NPS is the Microsoft implementation of RADIUS. </p>
                                        <div class="summary-left">
                                            <h2>Integration Summary</h2>
                                            <p>The hardware and software used to complete the steps outlined in this document include:</p>
                                            <ul style="list-style-type: square;">
                                                <li>Entrust Datacard  SMS PASSCODE<ul style="list-style-type: circle;"><li>Version 11.1 (build 26301)</li></ul></li>
                                                <li>WatchGuard Firebox<ul style="list-style-type: circle;"><li>Firebox with Fireware v12.5.1 or higher</li></ul></li>
                                                <li>NPS installed on Windows Server 2016 Standard</li>
                                            </ul>
                                        </div>
                                        <h2>Test Topology</h2>
                                        <p>This diagram shows the test topology used for this integration. </p>
                                        <p class="img">
                                            <img src="_images/SMS PASSCODE/topy1.jpg" style="max-height: auto;max-width: 100%;" alt="CensorNet MFA SMSPASSCODE Topology" />
                                        </p>
                                        <p>SMS PASSCODE Server includes:</p>
                                        <ul style="list-style-type: square;">
                                            <li>SMS PASSCODE Database Service</li>
                                            <li>SMS PASSCODE Web Administration Interface</li>
                                            <li>SMS PASSCODE Authentication Backend Service</li>
                                            <li>SMS PASSCODE Transmitter Service</li>
                                            <li>SMS PASSCODE RADIUS Protection</li>
                                        </ul>
                                        <p>SMS PASSCODE Cloud Service does not need to be configured.</p>
                                        <h2>Before You Begin</h2>
                                        <p>Before you begin these procedures, make sure that you:</p>
                                        <ul style="list-style-type: square;">
                                            <li> Configure Windows Server 2016 as Active Directory Domain Services (AD DS)</li>
                                            <li> Add groups and users in AD DS</li>
                                            <li> Install and configure Network Policy Server (NPS) on Windows Server 2016 </li>
                                            <li>Configure Mobile VPN with SSL on your Firebox</li>
                                            <li>Download and install the Mobile VPN with SSL client</li>
                                        </ul>
                                        <p>To configure NPS, see the documentation on the Microsoft website.</p>
                                        <p>To configure Mobile VPN&#160;with SSL on the Firebox, see           <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/mvpn/ssl/mvpn_ssl_about_c.html">Mobile VPN with SSL</a>.</p>
                                        <p>To install the Mobile VPN with SSL client, see <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/mvpn/ssl/mvpn_ssl_client-install_c.html">Install and Connect the Mobile VPN with SSL Client</a>.</p>
                                        <h2>Configure the Firebox for RADIUS</h2>
                                        <p>To configure a RADIUS server connection on Firebox:</p>
                                        <ol start="1">
                                            <li value="1">Log in to the Fireware Web UI (https://&lt;your firebox IP address&gt;:8080).</li>
                                            <li value="2">Select <b>Authentication&gt; Servers &gt; RADIUS</b>.</li>
                                            <li value="3">Click <b>Add</b> to add a new RADIUS server.</li>
                                            <p class="img">
                                                <img src="_images/SMS PASSCODE/RADIUS SERVER.jpg" style="max-height: auto;max-width: 100%;" alt="RADIUS Server Settings on the Firebox" />
                                            </p>
                                            <li value="4">In the <b>Domain Name</b> text box, type the domain name of the NPS&#160;Server.</li>
                                            <li value="5">Select the <b>Enable RADIUS Server</b> check box.</li>
                                            <li value="6">In the <b>IP Address</b> text box, type the IP address of the NPS Server.</li>
                                            <li value="7">In the <b>Port</b> text box, type the port used in NPS Server for RADIUS authentication. The default port is 1812.</li>
                                            <li value="8">In the <b>Shared Secret</b> and <b>Confirm Secret</b> text boxes, type the shared secret you configured for the RADIUS client on the NPS Server.</li>
                                            <li value="9">In the <b>Dead Time</b> text box, type <span class="Input">0</span>. </li>
                                        </ol>
                                        <p class="Note">If a user does not respond to a multi-factor authentication (MFA)&#160;challenge, the Firebox marks the RADIUS server as dead for the Dead Time duration. The Firebox does not send authentication requests for other users to the RADIUS server during this time. To avoid this issue, specify a Dead Time of 10 minutes if you configure only a primary RADIUS server. If you also configure a backup RADIUS server, specify a Dead Time of 0 minutes. <br /></p>
                                        <ol start="9">
                                            <li value="9">Keep all other default settings.</li>
                                            <li value="10">Click <b>Save</b>.</li>
                                        </ol>
                                        <p>Next, add RADIUS&#160;users and groups on the Firebox:</p>
                                        <ol start="1">
                                            <li value="1">Select <b>Authentication&gt; Users and Groups</b>.</li>
                                            <li value="2">Click <b>Add</b>.</li>
                                            <li value="3">For <b>Type</b>, select <b>User</b>.</li>
                                            <li value="4">In the <b>Name</b> text box, type the same user name you created on the NPS Server.</li>
                                            <li value="5">From the <b>Authentication Server</b> drop-down list, select <b>RADIUS</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/Add User or Group 2.jpg" style="max-height: auto;max-width: 100%;" alt="Add User or Group dialog box on the Firebox" />
                                        </p>
                                        <ol start="6">
                                            <li value="6">Click <b>OK</b>.<br /><span class="NumContinued">The user is added to the Users and Groups list on the Firebox.</span></li>
                                            <li value="7">Click <b>Add</b>.</li>
                                            <li value="8">For <b>Type</b>, select <b>Group</b>.</li>
                                            <li value="9">In the <b>Name</b> text box, type the same Group name you created on the NPS Server.</li>
                                            <li value="10">From the <b>Authentication Server</b> drop-down list, select <b>RADIUS</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/TestGroup.jpg" alt="Add User or Group dialog box on the Firebox" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="11">
                                            <li value="11">Click <b>OK</b>.<br /><span class="NumContinued">The Group is added to the Users and Groups list on the Firebox.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Users and Groups list on the Firebox" src="_images/SMS PASSCODE/Users and Groups list.jpg" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="12">
                                            <li value="12">Click <b>Save</b>.</li>
                                        </ol>
                                        <p>For more information about RADIUS configuration on the Firebox,&#160;see <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/authentication/radius_server_auth_about_c.html">Configure RADIUS Server Authentication</a>.</p>
                                        <h2>Install and configure SMS PASSCODE</h2>
                                        <li>Before you install SMS PASSCODE, make sure the Mobile VPN with SSL client can connect to the Firebox using NPS as a RADIUS server.</li>
                                        <p>In the SMS&#160;PASSCODE installer:</p>
                                        <ol>
                                            <li value="1">Select <b>Install Core Components</b> and <b>Install Authentication Client Protections</b>. Click <b>Next</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/SMS PASSCODE.jpg" style="max-height: auto;max-width: 100%;" alt="Installation Scope dialog box in SMS PASSCODE" />
                                        </p>
                                        <ol start="2">
                                            <li value="2">On the <b>Authentication Clients</b> dialog box, select <b>RADIUS Protection</b>.  Click <b>Next</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/SMS PASSCODE 2.jpg" style="max-height: auto;max-width: 100%;" alt="Authentication Clients dialog box in SMS PASSCODE" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">After SMS PASSCODE installs successfully, open the SMS PASSCODE administration site at <span class="Input">http://localhost:2000</span>.</li>
                                            <li value="4">Select <b>Users &gt; Maintain Users</b>.</li>
                                            <li value="5">Click <b>Add new user</b>.</li>
                                            <li value="6">In the <b>Display name</b> text box, type the display name for the user.</li>
                                            <li value="7">In the <b>Login (SAM)</b> text box, type the domain name followed by the user name that you created on AD DS. Use this format: <span class="Input">domainname\username</span>.</li>
                                            <li value="8">In the <b>Phone number</b> text box, type the mobile phone number that will receive the passcode.</li>
                                            <li value="9">Keep all other default settings.</li>
                                            <li value="10">Click <b>Save</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/SMS Creat a new user.jpg" style="max-height: auto;max-width: 100%;" alt="Basic Settings tab in SMS PASSCODE" />
                                        </p>
                                        <h2>Test the Integration</h2>
                                        <p>To test the integration:</p>
                                        <ol start="1">
                                            <li value="1">Launch the Mobile VPN with SSL client.</li>
                                            <li value="2">In the <b>Server</b> text box, type the IP address configured in the Mobile VPN with SSL&#160;settings. This IP address should be the Firebox external interface IP address.</li>
                                            <li value="3">In the <b>User name</b> text box, type the user name  configured on the AD DS. </li>
                                            <li value="4">In the <b>Password</b> text box, type the password.&#160;</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/SSL VPN LOGIN.jpg" style="max-height: auto;max-width: 100%;" alt="Mobile VPN witth SSL connection box" />
                                        </p>
                                        <ol start="5">
                                            <li value="5">Click <b>Connect</b>.<br /><span class="NumContinued">A passcode is sent to the mobile phone number you specified in the SMS PASSCODE settings.</span><br /></li>
                                            <li value="6">In the <b>Enter Passcode</b> dialog box, type the passcode you received on your phone.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/SMS PASSCODE/PASSCODE.jpg" style="max-height: auto;max-width: 100%;" alt="Enter Passcode dialog box" />
                                        </p>
                                        <ol start="7">
                                            <li value="7">Click <b>OK</b>. The Mobile VPN with SSL client connects. </li>
                                        </ol>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;●&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;●&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;●&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>