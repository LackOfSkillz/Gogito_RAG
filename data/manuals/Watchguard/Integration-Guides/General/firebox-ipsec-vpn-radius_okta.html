<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|Fireware" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Okta and Firebox Mobile VPN with IPSec Integration Guide</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor273"></a>
                                            <MadCap:concept term="Self-Help Tools" />Okta and Firebox Mobile VPN with IPSec Integration Guide</h1>
                                        <h2>Deployment Overview</h2>
                                        <p>WatchGuard provides integration instructions to help our customers configure WatchGuard products to work with products created by other organizations. If you need more information or technical support about how to configure a third-party product, see the documentation and support resources for that product.</p>
                                        <p>This integration guide describes how to set up multi-factor authentication (MFA) for Mobile VPN with IPSec. Your WatchGuard Firebox must already be configured and deployed before you set up MFA with Okta.</p>
                                        <p>Your WatchGuard Firebox can be configured to support MFA in several modes. For this integration, we set up RADIUS with Okta.</p>
                                        <p>For RADIUS authentication, users can authenticate with a push notification or a time-based one-time password (TOTP). The steps in this integration guide are for both authentication methods.</p>
                                        <div class="summary-left">
                                            <h2>Integration Summary</h2>
                                            <p>The hardware and software used in this guide include:</p>
                                            <ul style="list-style-type: square;">
                                                <li>Firebox with Fireware v12.7.1</li>
                                                <li>Okta RADIUS Server Agent 2.15.1 or higher</li>
                                            </ul>
                                        </div>
                                        <h2>Topology</h2>
                                        <p>This topology diagram shows the data flow for multi-factor authentication with a WatchGuard Firebox and Okta.</p>
                                        <p class="img">
                                            <img title="" src="_images/Firebox_IPSec_Okta/Topology diagram.png" style="max-height: auto;max-width: 100%;" alt="Topology diagram" />
                                        </p>
                                        <h2>Before You Begin</h2>
                                        <p>Before you begin, make sure that:</p>
                                        <ul style="list-style-type: square;">
                                            <li>A token is assigned to a user in Okta Verify</li>
                                            <li>You have installed and configured the Okta RADIUS Server Agent</li>
                                        </ul>
                                        <h2>Configure the Firebox</h2>
                                        <p>You must configure the RADIUS authentication settings and enable Mobile VPN with IPSec on your Firebox.</p>
                                        <h3>Configure RADIUS Authentication</h3>
                                        <p>When a user authenticates with Okta MFA, Okta does not send a response to the Firebox until the user approves the push notification or until the push authentication expires. </p>
                                        <ol start="1">
                                            <li value="1">Log in to Fireware Web UI (<span class="Input">https://&lt;your firebox IP address&gt;:8080</span>).</li>
                                            <li value="2">Select <b>Authentication &gt; Servers</b>.<br /><span class="NumContinued">The Authentication Servers page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram1" src="_images/Firebox_IPSec_Okta/Firebox1.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">From the <b>Authentication Servers</b> list, click <b>RADIUS</b>.<br /><span class="NumContinued">The RADIUS page opens.</span></li>
                                            <li value="4">Click <b>Add</b>.<br /><span class="NumContinued">The Add page opens.</span></li>
                                            <li value="5">In the <b>Domain Name</b> text box, type the domain name for this RADIUS server. Users must specify this domain name on the user login page. You cannot change the domain name after you save the settings.</li>
                                            <li value="6">In the <b>Primary Server Settings</b> section, select the <b>Enable RADIUS Server</b> check box.</li>
                                            <li value="7">In the <b>IP Address</b> text box, type the IP address of the RADIUS server (the Okta RADIUS Server Agent).</li>
                                            <li value="8">In the <b>Port</b> text box, keep the default port setting of <b>1812</b>. This is the default port used for communication with the RADIUS server (the Okta RADIUS Server Agent).</li>
                                            <li value="9">In the <b>Shared Secret</b> and <b>Confirm Secret</b> text boxes, type a shared secret key. This key is used to communicate with the RADIUS server (the Okta RADIUS Server Agent).</li>
                                            <li value="10">In the <b>Timeout</b> text box, type <span class="Input">60</span>.</li>
                                            <li value="11">Keep the default value for <b>Group Attribute</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram2" src="_images/Firebox_IPSec_Okta/Firebox2.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="12">
                                            <li value="12">Click <b>Save</b>.</li>
                                        </ol>
                                        <h3>Configure Mobile VPN with IPSec</h3>
                                        <ol>
                                            <li value="1">Select <b>VPN &gt; Mobile VPN</b>.</li>
                                            <li value="2">In the IPSec section, click <b>Configure</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram3" src="_images/Firebox_IPSec_Okta/Firebox3.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">Click <b>Add</b> to add a new group.</li>
                                            <li value="4">In the <b>Name</b> text box, type a group name that matches the name of the Okta group or Active Directory group the your users belong to.</li>
                                            <li value="5">From the <b>Authentication Server</b> drop-down list, select the authentication server that you created. In our example, the server name is <i>Radius-Server</i>.</li>
                                            <li value="6">In the <b>Passphrase</b> and <b>Confirm</b> text boxes, type a passphrase to encrypt the mobile VPN profile (<span class="Input">.wgx</span> file) that you distribute to users in this group. The passphrase can include only standard ASCII characters. If you use a certificate for authentication, this passphrase is also used to encrypt the exported certificate file you send to users.</li>
                                            <li value="7">In the <b>Primary</b> text box, type the external IP address of the Firebox that the VPN client connects to.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram4" src="_images/Firebox_IPSec_Okta/Firebox4.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="8">
                                            <li value="8">Select the <b>Resources</b> tab.</li>
                                            <li value="9">Select the <b>Allow All Traffic Through Tunnel</b> check box.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram5" src="_images/Firebox_IPSec_Okta/Firebox5.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="10">
                                            <li value="10">In the <b>Virtual IP Address Pool</b> section, click <b>Add</b>.</li>
                                            <li value="11">From the <b>Choose Type</b> drop-down list, select <b>Host Range IPv4</b>.</li>
                                            <li value="12">In the <b>From</b> and <b>To</b> text boxes, type a range for your virtual IP addresses. The range should be in your interface range. The IP addresses in the virtual IP address pool cannot be used for anything else on your network.</li>
                                            <li value="13">Click <b>OK</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram6" src="_images/Firebox_IPSec_Okta/Firebox6.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="14">
                                            <li value="14">Click <b>Save</b>.</li>
                                            <li value="15">In the <b>Groups</b> list, select the group.</li>
                                            <li value="16">From the <b>Client</b> drop-down list, select <b>WatchGuard Mobile VPN</b>.</li>
                                            <li value="17"><a name="generate"></a>Click <b>Generate</b> and save the <span class="Input">&lt;group name&gt;.ini</span> file.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Firebox, diagram7" src="_images/Firebox_IPSec_Okta/Firebox7.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <h2>Configure Okta</h2>
                                        <h3>Configure Multifactor</h3>
                                        <ol start="1">
                                            <li value="1">Log in to the Okta Admin Console.</li>
                                            <li value="2">Select <b>Security &gt; Multifactor &gt; Factor Types &gt; Okta Verify</b>.</li>
                                            <li value="3">Set the status to <b>Active</b>.</li>
                                            <li value="4">In the <b>Okta Verify Settings</b> section, click <b>Edit</b>.</li>
                                            <li value="5">Select the <b>Enable Push Notification</b> check box.</li>
                                            <li value="6">(Optional) Select the <b>Require Touch ID or Face ID for Okta Verify (only on iOS)</b> check box.</li>
                                            <li value="7">Click <b>Save</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram1" src="_images/Firebox_IPSec_Okta/Okta1.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="8">
                                            <li value="8">Select the <b>Factor Enrollment</b> tab.</li>
                                            <li value="9">Select the <b>Default Policy</b> and click <b>Edit</b>.</li>
                                            <li value="10">From the <b>Okta Verify</b> drop-down list, select <b>Required</b>.</li>
                                            <li value="11">Click <b>Update Policy</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram2" src="_images/Firebox_IPSec_Okta/Okta2.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <h3>Add an Okta Group and User</h3>
                                        <ol start="1">
                                            <li value="1">Select <b>Directory &gt; Groups &gt; Add Group</b>.</li>
                                            <li value="2">In the <b>Name</b> text box, type a group name.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram3" src="_images/Firebox_IPSec_Okta/Okta3.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">Click <b>Add Group</b>.</li>
                                            <li value="4">To add a user in Okta, select <b>Directory &gt; People &gt; Add Person</b>.<br /><span class="NumContinued">You can add your own user information.</span><br /></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram4" src="_images/Firebox_IPSec_Okta/Okta4.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="5">
                                            <li value="5">Click <b>Save</b>.</li>
                                        </ol>
                                        <p>You can import users and groups from Active Directory to Okta. For information about how to import, see the Okta documentation.</p>
                                        <h3>Configure RADIUS Application</h3>
                                        <ol start="1">
                                            <li value="1">Select <b>Applications &gt; Applications &gt; Browse App Catalog</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram5" src="_images/Firebox_IPSec_Okta/Okta5.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="2">
                                            <li value="2">In the <b>Browse App Integration Catalog</b> section, search for <b>RADIUS Application</b> and click <b>Add</b>.</li>
                                            <li value="3">In the <b>Application label</b> text box, type a description name.<br /></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram6" src="_images/Firebox_IPSec_Okta/Okta6.png" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="4">
                                            <li value="4">Click <b>Next</b>.</li>
                                            <li value="5">In the <b>UDP Port</b> text box, type <b>1812</b>.</li>
                                            <li value="6">In the <b>Secret Key</b> text box, type the shared secret key. This is the password that the RADIUS server (the Okta RADIUS Server Agent ) and the RADIUS client (the Firebox) will use to communicate.</li>
                                            <li value="7">From the <b>Application username format</b> drop-down list, select the appropriate user name format. In our example, we select <b>Email</b>.</li>
                                            <li value="8">Keep the default values for all other settings.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram7" src="_images/Firebox_IPSec_Okta/Okta7.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="9">
                                            <li value="9">Click <b>Done</b>.</li>
                                            <li value="10">Select the <b>Sign On</b> tab.</li>
                                            <li value="11">In the <b>Advanced RADIUS Settings</b> section, click <b>Edit</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram8" src="_images/Firebox_IPSec_Okta/Okta8.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="12">
                                            <li value="12">In the <b>Groups Response</b> section, select the <b>Include groups in RADIUS response</b> check box.</li>
                                            <li value="13">From the <b>RADIUS attribute</b> drop-down list, select <b>11 Filter-Id</b>.</li>
                                            <li value="14">In the <b>Group memberships to return</b> text box, type and select the group.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram9" src="_images/Firebox_IPSec_Okta/Okta9.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="15">
                                            <li value="15">(Optional) In the <b>Authentication</b> section, select the <b>Accept password and security token in the same login request</b> check box.</li>
                                            <li value="16">(Optional) Select the <b>Permit Automatic Push for Okta Verify Enrolled Users</b> check box.</li>
                                            <li value="17">(Optional) Select the <b>Send Access-Challenge for MFA-only logins</b> check box.</li>
                                            <li value="18">(Optional) Select the <b>Enable UPN or SAM account Name Login</b> check box.</li>
                                            <li value="19">Keep the default values for all other settings.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram10" src="_images/Firebox_IPSec_Okta/Okta10.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="20">
                                            <li value="20">Click <b>Save</b>.</li>
                                            <li value="21">Select the <b>Assignments</b> tab.</li>
                                            <li value="22">Select <b>Assign &gt; Assign to Groups</b>.<br /><span class="NumContinued">If you select to Assign to People, the user must belong to the group you configured in the Groups Response section.</span></li>
                                            <li value="23">Select the group and click <b>Assign</b>.</li>
                                            <li value="24">Click <b>Done</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of Okta, diagram11" src="_images/Firebox_IPSec_Okta/Okta11.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <p class="Note">The default RADIUS session timeout sent by the Okta RADIUS agent is 60 seconds, and the VPN connection might be disconnected within two minutes. To solve this problem, you can add the <span class="Input">ragent.mfa.timeout.seconds</span> parameter to the Okta RADIUS agent <i>config.properties</i> file. For information about how to configure the parameter, see <a href="https://help.okta.com/en/prod/Content/Topics/integrations/Agent_install_windows-config.htm">Configure properties</a> in the Okta documentation.</p>
                                        <h2>Test the Integration</h2>
                                        <p style="page-break-after: avoid;page-break-before: avoid;">To test the integration of Okta and WatchGuard Mobile VPN with IPSec, you authenticate with a mobile token on your mobile device. For RADIUS resources, you can authenticate with a time-based one-time password (TOTP) or a push notification. </p>
                                        <p>To authenticate with push:</p>
                                        <ol>
                                            <li value="1">Open your WatchGuard Mobile VPN with IPSec client.</li>
                                            <li value="2">Select <b>Configuration &gt; Profiles</b> and import the <span class="Input">&lt;group name&gt;.ini</span> config file. This is the file you generated at the end of the <a href="#generate">Configure Mobile VPN with IPSec section</a>.</li>
                                            <li value="3">Click <b>Add / Import</b>.</li>
                                            <li value="4">Select <b>Profile Import</b>. </li>
                                            <li value="5">Click <b>Next</b>.</li>
                                            <li value="6">Select your file. </li>
                                            <li value="7">Click <b>Next</b> to finish.</li>
                                            <li value="8">Select your profile as default. </li>
                                            <li value="9">Click <b>OK</b>.</li>
                                            <li value="10">Select <b>Connection &gt; Connect</b>.</li>
                                            <li value="11">Type your Okta user name and password.</li>
                                            <li value="12">Click <b>OK</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of IPSec client, diagram1" src="_images/Firebox_IPSec_Okta/IPSec client1.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="10">
                                            <li value="10">Type <span class="Input">1</span>.</li>
                                            <li value="11">Click <b>OK</b>.</li>
                                            <li value="12">Approve the authentication request that is sent to your mobile device.<br /><span class="NumContinued">You are connected successfully.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of IPSec client, diagram2" src="_images/Firebox_IPSec_Okta/IPSec client2.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <p>To authenticate with a TOTP:</p>
                                        <ol>
                                            <li value="1">Open your WatchGuard Mobile VPN with IPSec client.</li>
                                            <li value="2">Select <b>Connection &gt; Connect</b>.</li>
                                            <li value="3">Type your Okta user name and password.</li>
                                            <li value="4">Click <b>OK</b>.<br /></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img alt="Screenshot of IPSec client, diagram1" src="_images/Firebox_IPSec_Okta/IPSec client1.png" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="5">
                                            <li value="5">Type the passcode shown in the Okta Verify mobile app.</li>
                                            <li value="6">Click <b>OK</b>.<br /><span class="NumContinued">You are connected successfully.</span></li>
                                        </ol>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;●&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;●&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;●&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>