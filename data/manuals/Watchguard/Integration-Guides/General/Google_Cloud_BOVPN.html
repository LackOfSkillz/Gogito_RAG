<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|Fireware" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Google Cloud BOVPN Integration Guide</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1 id="GoogleCloudBOVPNIntegrationGuide" data-magellan-target="GoogleCloudBOVPNIntegrationGuide"><a name="aanchor2916"></a>
                                            <MadCap:concept term="Self-Help Tools" />Google Cloud BOVPN Integration Guide</h1>
                                        <p>This integration guide describes how to configure a Branch Office VPN (BOVPN) tunnel between a WatchGuard Firebox  and Google Cloud Platform.</p>
                                        <p class="Note">WatchGuard provides integration instructions to help our customers configure WatchGuard products to work with products created by other organizations. If you need more information or technical support about how to configure a third-party product, see the documentation and support resources for that product.</p>
                                        <h2 id="Contents" data-magellan-target="Contents">Contents</h2>
                                        <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 980px)" class="nocontent menu _Skins_Help_Center_Menu_Slide mc-component">
                                            <li class="tree-node"><a href="#GoogleCloudBOVPNIntegrationGuide">Google Cloud BOVPN Integration Guide</a>
                                            </li>
                                            <li>
                                                <ul>
                                                    <li class="tree-node"><a href="#Contents">Contents</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#IntegrationSummary">Integration Summary</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#Topology">Topology</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfiguretheFirebox">Configure the Firebox</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfiguretheGoogleCloudVPN">Configure the Google Cloud VPN</a>
                                                    </li>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#CreateaVPCNetwork">Create a VPC&#160;Network</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#ReserveaStaticAddress">Reserve a Static Address</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#CreateaVPNConnection">Create a VPN Connection</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#CreatetheFirewallRules">Create the Firewall Rules</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#TesttheIntegration">Test the Integration</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <div class="summary-left">
                                            <h2 id="IntegrationSummary" data-magellan-target="IntegrationSummary">Integration Summary</h2>
                                            <p>The hardware and software used in this guide include:</p>
                                            <ul style="list-style-type: square;">
                                                <li>WatchGuard Firebox<ul style="list-style-type: circle;"><li>Fireware v12.10</li></ul></li>
                                                <li> Google Cloud Platform</li>
                                            </ul>
                                            <P>Additional charges might apply for the use of Google Cloud Platform.</P>
                                        </div>
                                        <h2 id="Topology" data-magellan-target="Topology">Topology</h2>
                                        <p> This diagram shows the topology for a BOVPN connection between a Firebox and Google Cloud Platform.</p>
                                        <p class="img">
                                            <img src="_images/Google Cloud for Branch Office VPN/Google-Cloud-Topology-Test.png" alt="The screenshot of Test topology" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <h2 id="ConfiguretheFirebox" data-magellan-target="ConfiguretheFirebox">Configure the Firebox</h2>
                                        <p>To configure a BOVPN connection on the Firebox:</p>
                                        <ol start="1">
                                            <li value="1">Log in to Fireware Web UI.</li>
                                            <li value="2">Select <b>VPN &gt; Branch Office VPN</b>. <br /></li>
                                            <li value="3">From the <b>Gateways</b> section, click <b>Add</b>.<br /><span class="NumContinued">The Branch Office VPN configuration page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Branch Office VPN-FB-1.jpg" alt="Screen shot of the General Setting tab" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="9" data-mc-continue="true">
                                            <li value="4">In the <b>Gateway Name</b> text box, type a name to identify this BOVPN gateway. </li>
                                            <li value="5">From the <b>Address Family</b> drop-down list, select <b>IPv4 Addresses</b>.</li>
                                            <li value="6">From the <b>Credential Method</b> section, select <b>Use Pre-Shared Key</b>.<br /></li>
                                            <li value="7">In the adjacent text box, type the pre-shared key. </li>
                                            <li value="8">In the adjacent drop-down list, keep the default <b>String-Based</b>value.</li>
                                            <li value="9">From the <b>Gateway Endpoint</b> section, click <b>Add</b>.<br /><span class="NumContinued">The Gateway Endpoint Settings dialog box opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox2.png" alt="Screenshot of firebox, picture2, gateway endpoint settings, local gateway." style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="14" data-mc-continue="true">
                                            <li value="10">From the <b>External Interface</b> drop-down list, select <b>External</b>.</li>
                                            <li value="11">From the <b>Interface IP Address</b> drop-down list, select <b>Primary Interface IPv4 Address</b>.<br /> <span class="NumContinued">The Primary Interface IP Address is the primary IP&#160;address you configured on the selected external interface.</span></li>
                                            <li value="12">To specify the gateway ID for tunnel authentication, select <b>By IP Address</b>.</li>
                                            <li value="13">In the adjacent text box, type the primary IP address of the External Firebox interface.<br /></li>
                                            <li value="14">Select the <b>Remote Gateway</b> tab.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox3.png" alt="Screenshot of firebox, picture3, remmote gateway settings." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="20" data-mc-continue="true">
                                            <li value="15">To specify the remote gateway IP address for a tunnel, select <b>Static IP Address</b>.</li>
                                            <li value="16">In the adjacent text box, type the External IP&#160;address of your Google Cloud connection.</li>
                                            <li value="17">To specify the remote gateway ID for tunnel authentication, select <b>By IP Address</b>.</li>
                                            <li value="18">In the adjacent text box, type the External IP&#160;address of your Google Cloud connection. </li>
                                            <li value="19">Keep the default values for all other options. </li>
                                            <li value="20">Click <b>OK</b>.<br /></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Branch Office VPN-FB-2.jpg" alt="Screenshot of firebox, picture4, general settings page." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="22" data-mc-continue="true">
                                            <li value="21">From the <b>Gateway Endpoint</b> section, select the <b>Start Phase 1 Tunnel When Firebox Starts</b> check box.</li>
                                            <li value="22">Select the <b>Phase 1 Settings</b> tab.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox5.png" alt="Screen shot of the Phase 1 Settings" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="25" data-mc-continue="true">
                                            <li value="23">From the <b>Version</b> drop-down list, select <b>IKEv2</b>.</li>
                                            <li value="24">Keep the default values for all other Phase 1 settings.</li>
                                            <li value="25">Click <b>Save</b>.<br /><span class="NumContinued">The Branch Office VPN page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox6.png" alt="Screenshot of firebox, picture6, add tunnels." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="27" data-mc-continue="true">
                                            <li value="26">From the <b>Tunnels</b> section, click <b>Add</b>.<br /><span class="NumContinued">The Branch Office VPN tunnel configuration page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox7.png" alt="Screenshot of firebox, picture7, add a address." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="29" data-mc-continue="true">
                                            <li value="27">From the <b>Gateway</b> drop-down list, select the gateway that you configured.</li>
                                            <li value="28">From the <b>Addresses</b> section, click <b>Add</b>.<br /><span class="NumContinued">The Tunnel Route Settings page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox8.png" alt="Screenshot of firebox, picture8, tunnel route settings." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="33" data-mc-continue="true">
                                            <li value="29">From the <b>Local IP</b> section, from the <b>Choose Type</b> drop-down list, select <b>Network IPv4</b>.</li>
                                            <li value="30">In the <b>Network IP</b> text box, type the local IP segment. This is the local network protected by the Firebox.</li>
                                            <li value="31">From the <b>Remote IP</b> section, from the <b>Choose Type</b> drop-down list, select <b>Network IPv4</b>.</li>
                                            <li value="32">In the <b>Network IP</b> text box, type the remote IP segment. This is the local network protected by Google Cloud.</li>
                                            <li value="33">Click <b>OK</b>.</li>
                                            <li value="34">Keep the default values for the <b>Phase 2 Settings</b> tab.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Firebox9.png" alt="Screenshot of firebox, picture9, phase 2 settings." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="35" data-mc-continue="true">
                                            <li value="35">Click <b>Save</b>.</li>
                                        </ol>
                                        <h2 id="ConfiguretheGoogleCloudVPN" data-magellan-target="ConfiguretheGoogleCloudVPN">Configure the Google Cloud VPN</h2>
                                        <p>To configure the Google Cloud VPN, perform these steps:</p>
                                        <ol>
                                            <li value="1"><a href="#Create" title="Create a VPC Network" alt="Create a VPC Network" class="MCXref xref">Create a VPC&#160;Network</a> </li>
                                            <li value="2"><a href="#Reserve" title="Reserve a static address" alt="Reserve a static address" class="MCXref xref">Reserve a Static Address</a>
                                            </li>
                                            <li value="3"><a href="#Create2" title="Create a VPN Connection" alt="Create a VPN Connection" class="MCXref xref">Create a VPN Connection</a>
                                            </li>
                                            <li value="4"><a href="#Create3" title="Create Firewall Rules" alt="Create Firewall Rules" class="MCXref xref">Create the Firewall Rules</a>
                                            </li>
                                        </ol>
                                        <h3 id="CreateaVPCNetwork" data-magellan-target="CreateaVPCNetwork"><a name="Create"></a>Create a VPC&#160;Network</h3>
                                        <p>Before you create your VPC Network, you should enable the Compute Engine API. Google charges you for the Compute Engine API  in your projects. For more information, go to the Google Cloud documentation.</p>
                                        <p>To create a VPC&#160;Network:</p>
                                        <ol start="1">
                                            <li value="1">Log in to the Google Cloud Platform.</li>
                                            <li value="2">Select a project or create a new one. In this example, we use <b>My First Project</b>.</li>
                                            <li value="3">From the navigation menu, select <b> VPC Network &gt; VPC Networks</b>.<br /><span class="NumContinued">The Product Details page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Enable-Compute_engine_API.png" alt="Screenshot of the enabling the Compute Engine API  in Google Cloud" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="4">
                                            <li value="4">Click <b>Enable</b>.<br /><span class="NumContinued">The VPC&#160;Networks page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Enable-Compute_engine_API-001.png" alt="Screenshot of the enable Compute Engine API 001  in Google Cloud" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="5">
                                            <li value="5">Click <b>Create VPC Network</b>.<br /><span class="NumContinued">The Create a VPC Network page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Create-a-VPC-Network-001.png" alt="Screenshot of the VPC network 001 in Google Cloud" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="6">In the <b>Name</b> text box, type a name for the VPC&#160;network. In our example, we use <b>cloud-vpc-network</b>.</li>
                                            <li value="7">From the <b>Subnets</b> section, from the <b>Subnet Creation Mode</b> option, select <b>Custom</b>.</li>
                                            <li value="8">From the <b>New Subnet</b> section, in the <b>Name</b> text box, type a name for the subnet. In our example, we use <b>subnet-asia-east1-192-168-1</b>.</li>
                                            <li value="9">From the <b>Region</b> drop-down list, select a specific geographical location where you can host your resources. In our example, we select <b>Asia-East1</b>.</li>
                                            <li value="10">In the <b>IPv4 Range</b> text box, specify the IP&#160;address range for this subnet. In our example, we use <b>192.168.1.0/24</b>.</li>
                                            <li value="11">(Optional) For <b>Flow Logs</b>, select <b>On</b>.</li>
                                            <li value="12">Click <b>Done</b>.</li>
                                            <li value="13">Keep the default values for all other settings.</li>
                                            <li value="14">Click <b>Create</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Create-a-VPC-Network-002.png" alt="Screenshot of tcreating VPC network 002 in Google Cloud" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <h3 id="ReserveaStaticAddress" data-magellan-target="ReserveaStaticAddress"><a name="Reserve"></a>Reserve a Static Address</h3>
                                        <p>To reserve a static address;</p>
                                        <ol start="1">
                                            <li value="1">From the navigation menu, select <b>VPC Network  &gt; IP Addresses</b>.<br /><span class="NumContinued">The IP Addresses page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-IP-Address.png" alt="Screenshot of GCP IP address" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol start="2">
                                            <li value="2">Click <b>Reserve External Static IP Address</b>.<br /><span class="NumContinued">The Reserve a Static Address page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-External-Static-IP-address.png" alt="Screenshot of the static address settings in Google Cloud" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="3">In the <b>Name</b> text box, type a name for the External IP address. In our example, we use <b>google-cloud-vpn-ip</b>.</li>
                                            <li value="4">From the <b>Region</b> drop-down list, select a region where you want to create the static address. In our example, we select <b>asia-east1 (Taiwan)</b>.</li>
                                            <li value="5">Keep the default values for all other settings.</li>
                                            <li value="6">Click <b>Reserve</b>. </li>
                                        </ol>
                                        <h3 id="CreateaVPNConnection" data-magellan-target="CreateaVPNConnection"><a name="Create2"></a>Create a VPN Connection</h3>
                                        <p>To create a VPN connection:</p>
                                        <ol start="1">
                                            <li value="1">From the navigation menu, select <b>Networking &gt; Network Connectivity &gt; VPN</b>.</li>
                                            <li value="2">Click <b>Create VPN Connection</b>.</li>
                                            <li value="3">From the <b>VPN Options</b> section, select <b>Classic VPN</b>.</li>
                                            <li value="4">Click <b>Continue</b>.<br /><span class="NumContinued">The Create a VPN Connection page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-VPN-Connection.png" alt="Screen shot of the completed VPN connection settings in Google Cloud" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="5">From the <b>Google Compute Engine VPN Gateway</b> section, in the <b>Name</b> text box, specify a name for the VPN gateway. </li>
                                            <li value="6">From the <b>Network</b> drop-down list, select the network you created. In our example, we select <b>cloud-vpc-network</b>.</li>
                                            <li value="7">From the <b>Region</b> drop-down list, select a region. In our example, we select <b>asia-east1 (Taiwan)</b>.</li>
                                            <li value="8">From the <b>IP Address</b> drop-down list, select the IP&#160;address you created. In our example, we select <b>google-cloud-vpn-ip</b>.</li>
                                            <li value="9">From the <b>Tunnels</b> section, in the <b>Name</b> text box, type a name for the tunnel.</li>
                                            <li value="10">In the <b>Remote Peer IP Address</b> text box, type the External  IP address of the remote peer.</li>
                                            <li value="11">From the <b>IKE Version</b> drop-down list, select <b>IKEv2</b>.</li>
                                            <li value="12">In the <b>IKE Pre-shared Key</b> text box, type the IKE pre-shared key for this tunnel.</li>
                                            <li value="13">For <b>Routing Options</b>, select <b>Policy-based</b>.</li>
                                            <li value="14">In the <b>Remote Network IP Ranges</b> text box, type the IP address ranges of the remote networks.</li>
                                            <li value="15">From the <b>Local Subnetworks</b> drop-down list, select <b>subnet-asia-east1-192-168-1</b>.</li>
                                            <li value="16">Click <b>Done</b>.</li>
                                            <li value="17">Click <b>Create</b>.</li>
                                        </ol>
                                        <h3 id="CreatetheFirewallRules" data-magellan-target="CreatetheFirewallRules"><a name="Create3"></a>Create the Firewall Rules</h3>
                                        <p>To create the firewall rules:</p>
                                        <ol start="1">
                                            <li value="1">From the navigation menu, select <b>Networking &gt; VPC Network &gt; Firewall</b>. </li>
                                            <li value="2">Click <b>Create Firewall Rule</b>.<br /><span class="NumContinued">The Create a Firewall Rule page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-Firewall-ingress.png" alt="Screen shot of the firewall rule settings in Google Cloud" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="3">In the <b>Name</b> text box, type a name for this rule.</li>
                                            <li value="4">For <b>Logs</b>, select <b>On</b>.</li>
                                            <li value="5">From the <b>Network</b> drop-down list, select the network you created. In our example, we select <b>cloud-vpc-network</b>.</li>
                                            <li value="6"> For <b>Direction of Traffic</b>, select <b>Ingress</b>.</li>
                                            <li value="7">For <b>Action on Match</b>, select <b>Allow</b>.</li>
                                            <li value="8">From the <b>Targets</b> drop-down list, select <b>All Instances In the Network</b>.</li>
                                            <li value="9">From the <b>Source Filter</b> drop-down list, select <b>IP Ranges</b>.</li>
                                            <li value="10">In the <b>Source IPv4 Ranges</b> text box, type the IP address ranges of remote internal networks.</li>
                                            <li value="11">For <b>Protocols and Ports</b>, select <b>Allow All</b> or <b>Specified Protocols and Ports</b>. In our example, we select <b>Allow All</b>.</li>
                                            <li value="12">Keep the default values for all other settings.</li>
                                            <li value="13">Click <b>Create</b>.</li>
                                            <li value="14">To create an egress rule, repeat steps 2-13.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-Firewall-egress.png" alt="Screen shot of the firewall rules list in Google Cloud" style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="15">
                                            <li value="15">Click <b>Create</b>.</li>
                                        </ol>
                                        <p>Google Cloud VPN auto-negotiates authentication and encryption settings and the key group with the Firebox. You cannot edit these settings in the Google Cloud VPN configuration. </p>
                                        <p>For more information about Google Cloud VPN configuration and supported IKE ciphers, go to <a href="https://cloud.google.com/vpn/docs/">Google Cloud VPN Documentation</a>.</p>
                                        <h2 id="TesttheIntegration" data-magellan-target="TesttheIntegration">Test the Integration</h2>
                                        <p>To test the integration:</p>
                                        <ol start="1">
                                            <li value="1">From the Google Cloud Platform navigation menu, select <b>Networking &gt; Network Connectivity &gt; VPN</b>.</li>
                                            <li value="2">Select the <b>Cloud VPN Tunnels</b>tab. The data shows the VPN is established.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/GCP-VPV-Established.png" alt="Screenshot of google cloud platform, picture9. vpn, cloud vpn tunnels." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">From Fireware Web UI, select <b>System Status &gt; VPN Statistics</b>.<br /><span class="NumContinued">The VPN Statistics page opens.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/Google Cloud for Branch Office VPN/Test-integration.png" alt="Screenshot of firebox, picture10, vpn statistics." style="max-width: 100%;max-height: auto;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="4">Select the <b>Branch Office VPN</b> tab. The data shows the VPN is established.</li>
                                            <li value="5">Verify that host behind the Firebox is able to ping the host  in the Google Cloud Platform.<br /></li>
                                        </ol>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;●&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;●&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;●&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>