<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|Fireware" data-mc-conditions="all.PrintOnly,all.ScreenOnly" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Perch Network Sensor Integration Guide</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor2160"></a>
                                            <MadCap:concept term="Self-Help Tools" />Perch Network Sensor Integration Guide</h1>
                                        <h2>Deployment Overview</h2>
                                        <p>Perch Security Sensors provide visibility into the traffic that passes through a configured mirrored interface. You can increase visibility for a network segment when you configure Perch together with a  WatchGuard firewall and a managed switch, as described in this integration guide.</p>
                                        <div class="summary-left">
                                            <h2>Integration Summary</h2>
                                            <p>To test this integration, we used these devices: </p>
                                            <ul style="list-style-type: square;">
                                                <li> Perch Hardware Sensor</li>
                                                <li>WatchGuard FireboxV installed with Fireware v12.2</li>
                                                <li>Managed Switch capable of interface mirroring</li>
                                            </ul>
                                        </div>
                                        <h2>Test Topology</h2>
                                        <p class="img">
                                            <img src="_images/Perch_Network_Topology.JPG" alt="Network Topology of Perch Security Network Sensor" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <h2>Configure Your Firebox for Perch Sensor</h2>
                                        <p>On the WatchGuard Firebox, you must configure a policy to allow communication from the Perch Sensor to the Perch cloud app.</p>
                                        <p>For more information on how to configure Firebox policies,&#160;see <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/Fireware/policies/policies_intro_c.html">Policies</a>.</p>
                                        <ol>
                                            <li value="1">Log in to  Fireware Web UI.</li>
                                            <li value="2">Select <b>Firewall</b> &gt; <b>Firewall Policies</b>.</li>
                                            <li value="3">Select <b>Add Policy</b>.<br /><span class="NumContinued">The Select a policy type dialog appears.</span></li>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <li value="4">Select the <b>Custom</b> policy type, and click <b>Add</b> .</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Policy_Type_Custom.JPG" alt="Screen shot of the WatchGuard Custom Policy Add" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="5">Provide a policy <b>Name</b>. The <b>Description</b> is optional. Select the policy type: <b>Packet Filter</b>.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Add_Policy_Template.JPG" alt="Screen shot of the Add Policy Template Custom Policy" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="6">Below <b>Protocols</b> select <b>Add</b>.</li>
                                            <li value="7">From the <b>Type</b> drop-down list, select  <b>Single Port</b>. Set the <b>Protocol</b> to TCP and the <b>Server Port</b> to 80.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Add_Policy_Protocol.JPG" alt="Screen shot of adding protocol to a custom policy" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="8">Select <b>OK</b>. Add a second Protocol for port 443. Select <b>OK</b>.</li>
                                            <li value="9">Select <b>Save</b> on the bottom of the page.<br /><span class="NumContinued">The Select a policy type page appears.</span></li>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <li value="10">From the Custom policy drop-down list, select the name of the packet filter policy you configured above in Step 5. Select <b>Add Policy</b>.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Add_Custom_Policy.JPG" alt="Screen shot of the custom policy add policy page" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="11">In the <b>From</b> settings, remove the <b>Any-Trusted</b> alias.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Custom_Policy_To_and_From.JPG" alt="Screen shot of the custom policy to modify" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="12">In the <b>From</b> settings, select <b>Add</b>.<br /><span class="NumContinued">The Add Member dialog box appears. </span></li>
                                            <li value="13">From the <b>Member Type</b> drop-down list, select <b>Host IPv4</b>. Type the IP address of the Perch Sensor. Select <b>OK</b>.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_WatchGuard_Add_Member.JPG" alt="Screen shot of the Add Member dialog" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="14">On the bottom of the Policy page, select <b>Save</b>.</li>
                                        </ol>
                                        <h2>Configure Your Managed Switch</h2>
                                        <p>You must set up a managed switch  for port mirroring on the subnet intended for the Perch sensor. See the documentation for your managed switch for specific configuration information.</p>
                                        <h2>Get the Perch Cloud App Invitation</h2>
                                        <p>Use the Perch Cloud app to generate an invitation code that you add to the Perch Sensor to register it with Perch Cloud. </p>
                                        <ol>
                                            <li value="1">To get the Perch Sensor invitation code, log in or register at <a href="https://app.perchsecurity.com/">https://app.perchsecurity.com</a>.</li>
                                            <li value="2">
                                                <p>Select the gear menu icon on the upper right. Select <b>Device Invites</b>.</p>
                                            </li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_Device_Invites.JPG" alt="Screen shot of the Perch gear icon to select Device invites" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="3">On the right side, below <b>Filter Invites</b>, select <b>+</b>. <br /><span class="NumContinued">The New Device Invite Code dialog box appears.</span> </li>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <li value="4">Copy the case sensitive code.</li>
                                        </ol>
                                        <p>
                                            <img src="_images/Perch_New_Device_Invites_Dialog.JPG" alt="Screen shot of the Perch new Device invite Code" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <h2>Configure the Perch Sensor</h2>
                                        <p>You must configure the Perch Sensor  to accept mirrored traffic from the switch and a management network. For physical sensors, you will need a keyboard and a direct monitor connection.</p>
                                        <ol>
                                            <li value="1">Log in to the Perch command line with your username and password. The default username is <span class="Input">perch</span> and password is <span class="Input">prairiefire</span>.</li>
                                            <li value="2">Use the tab key to choose the network interface and select <b>No</b> for DHCP.</li>
                                            <li value="3">Type the <b>IP address</b>, <b>netmask</b>, and <b>DNS</b> server(s).</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_CLI_Static_IP.JPG" alt="Screen shot of the Perch management network interface setup" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="4">Tab to select <b>OK</b>. </li>
                                            <li value="5">In the proxy setup section, select <b>No</b> when asked about the use of an HTTP/HTTPS proxy for communication with the Perch cloud.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_CLI_Proxy_Question.JPG" alt="Screen shot of the proxy settings in the Perch CLI." style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="6">Use the tab key to select <b>OK</b>.</li>
                                            <li value="7">In the monitoring interface setup section, select the interface to receive the mirrored traffic.</li>
                                        </ol>
                                        <p>
                                            <img src="_images/Perch_CLI_Network_for_Mirroring.JPG" alt="Screen shot of the Perch network monitoring interface setup" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="8">Use the tab key to select <b>OK</b>.</li>
                                            <li value="9">Type the sensor information: <b>Sensor name</b>, <b>Sensor location</b>, <b>Zip code</b>, <b>Country code</b> and optional <b>Geohash</b>.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_CLI_Sensor_Information.JPG" alt="Screen shot of Perch CLI sensor information" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="10">Use the tab key to select <b>OK</b>.</li>
                                            <li value="11">Configure the Perch Sensor with the invitation code you saved earlier.</li>
                                        </ol>
                                        <p>
                                            <img src="_images/Perch_CLI_Invite_Code_Entry.JPG" alt="Screen shot of the Perch CLI invite code entry" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="12">Use the tab key to select <b>OK</b>.<br /><span class="NumContinued">Wait while registration completes. It can take several minutes.</span></li>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <li value="13">When Perch Cloud registration completes, you will see a success message.</li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_CLI_Registration_Sucessful.JPG" alt="Screen shot of the Perch registration success" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <h2>Test the Integration</h2>
                                        <p>When the Perch Sensor is operating and can communicate to the Perch Cloud app, your network traffic information will show on your Perch account.</p>
                                        <ol>
                                            <li value="1">Log in to your Perch App at <a href="" target="_blank"><a href="https://app.perchsecurity.com/login">https://app.perchsecurity.com/login</a></a>.</li>
                                            <li value="2">Select <b>Perchybana</b>. </li>
                                        </ol>
                                        <p>
                                            <img src="_images/Perch_App_Perchybana.JPG" alt="Screen shot of Perch App menu" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="3">The traffic list appears in a format that allows keyword search. </li>
                                        </ol>
                                        <p class="img">
                                            <img src="_images/Perch_Traffic_Search.JPG" alt="Screen shot of Perch log search" style="max-height: auto;max-width: 100%;" />
                                        </p>
                                        <p>After your Perch Security device is set up, you have the option to join public or secret Communities and set up Alerts. You can use Communities  to aggregate data with other users to understand the nature of your traffic. You can create Alerts when  data triggers a rule. Each alert contains information about the payload that triggered the rule.</p>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;●&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;●&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;●&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>