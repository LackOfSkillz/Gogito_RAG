<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Help_Center_Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Self-Help Tools|Integration Guides|AuthPoint" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="3600" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>TOPdesk Integration with AuthPoint</title>
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/help_(en-US).css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="120x120" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T3SCZC3');/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 979px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../en-US/_intro/home.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div id="cover">
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3SCZC3" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="6" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1 id="TOPdeskIntegrationwithAuthPoint" data-magellan-target="TOPdeskIntegrationwithAuthPoint"><a name="aanchor950"></a>
                                            <MadCap:concept term="Self-Help Tools" /><a name="aanchor951"></a>
                                            <MadCap:concept term="AuthPoint" />TOPdesk Integration with AuthPoint</h1>
                                        <h2 id="DeploymentOverview" data-magellan-target="DeploymentOverview">Deployment Overview</h2>
                                        <p>This document describes how to set up multi-factor authentication (MFA) for TOPdesk with  AuthPoint as an identity provider.  TOPdesk must already be configured and deployed before you set up MFA with AuthPoint.</p>
                                        <h3 id="Contents" data-magellan-target="Contents">Contents</h3>
                                        <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 980px)" class="nocontent menu _Skins_Help_Center_Menu_Slide mc-component">
                                            <li class="tree-node"><a href="#TOPdeskIntegrationwithAuthPoint">TOPdesk Integration with AuthPoint</a>
                                            </li>
                                            <li>
                                                <ul>
                                                    <li class="tree-node"><a href="#DeploymentOverview">Deployment Overview</a>
                                                    </li>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#Contents">Contents</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#TOPdeskAuthenticationDataFlowwithAuthPoint">TOPdesk Authentication Data Flow with AuthPoint</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#BeforeYouBegin">Before You Begin</a>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfigureTOPdesk">Configure TOPdesk</a>
                                                    </li>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#EnablePublicSSOorSecureSSO">Enable Public SSO or Secure SSO</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#CreateaPersonorOperator">Create a Person or Operator</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#ConfigureAuthPoint">Configure AuthPoint</a>
                                                    </li>
                                                    <li>
                                                        <ul>
                                                            <li class="tree-node"><a href="#AddaSAMLResourceinAuthPoint">Add a SAML Resource in AuthPoint</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#AddaGroupinAuthPoint">Add a Group in AuthPoint</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#AddanAuthenticationPolicytoAuthPoint">Add an Authentication Policy to AuthPoint</a>
                                                            </li>
                                                            <li class="tree-node"><a href="#AddUserstoAuthPoint">Add Users to AuthPoint</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="tree-node"><a href="#TesttheIntegration">Test the Integration</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <h3 id="TOPdeskAuthenticationDataFlowwithAuthPoint" data-magellan-target="TOPdeskAuthenticationDataFlowwithAuthPoint">TOPdesk Authentication Data Flow with AuthPoint</h3>
                                        <p>AuthPoint communicates with various cloud-based services and Service Providers with the SAML protocol. This diagram shows the data flow of an MFA transaction for TOPdesk.</p>
                                        <p class="img">
                                            <img src="_images/TOPdesk/TOPdesk-SAML-AuthPoint-Topology.png" title="" alt="The MFA transaction for TOPdesk topology" class="" />
                                        </p>
                                        <h2 id="BeforeYouBegin" data-magellan-target="BeforeYouBegin">Before You Begin</h2>
                                        <p>Before you begin these procedures, make sure that:</p>
                                        <ul style="list-style-type: square;">
                                            <li>An admin (operator) can log in to the TOPdesk Essential environment</li>
                                            <li>A token is assigned to a user in AuthPoint</li>
                                            <li>You have an <a href="#" class="MCTextPopup popup popupHead popupHeaddefinition">AuthPoint identity provider (IdP) certificate<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"> </span>An AuthPoint IdP certificate is required for SAML authentication.</span></a> (go to <a href="../../en-US/authpoint/certificates.html" class="MCXref xref">Certificate Management</a>)</li>
                                        </ul>
                                        <h2 id="ConfigureTOPdesk" data-magellan-target="ConfigureTOPdesk">Configure TOPdesk</h2>
                                        <p>The steps in this section describe how to configure TOPdesk for MFA.</p>
                                        <h3 id="EnablePublicSSOorSecureSSO" data-magellan-target="EnablePublicSSOorSecureSSO">Enable Public SSO or Secure SSO</h3>
                                        <p>TOPdesk supports both public SSO and secure SSO. Public SSO is used for a person to log in to the Self-Service Portal, while secure SSO is used for the operator to log in to the Operator Section. You can submit calls and requests in the Self-Service Portal, but you cannot access the Operator Section where these calls are processed. </p>
                                        <p>To start, you must download the <a href="#" class="MCTextPopup popup popupHead popupHeaddefinition">metadata file<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"> </span>The metadata provides your resource with information necessary to identify AuthPoint as a trusted identity provider.</span></a> from the Certificate Management page in the AuthPoint  management UI. After you have that, you can configure TOPdesk.</p>
                                        <ol style="page-break-after: avoid;">
                                            <li value="1">Log in to WatchGuard Cloud.</li>
                                            <li value="2">From the navigation menu, select <b>Configure &gt; AuthPoint</b>. If you have a Service Provider account, you must select an account from Account Manager.</li>
                                            <li value="3">Select <b>Resources</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_resources.png" style="height: auto;max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" alt="Screenshot of the Resources page" />
                                        </p>
                                        <ol style="page-break-after: avoid;" start="4" data-mc-continue="true">
                                            <li value="4">Click <b>Certificate</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_cert-mgmt_cert-menu.PNG" style="height: auto;max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" title="" alt="Screenshot of Certificates page" />
                                        </p>
                                        <ol style="page-break-after: avoid;" start="5" data-mc-continue="true">
                                            <li value="5"><a name="Next"></a>Next to the AuthPoint certificate that you want to associate with your resource, click <img src="_images/menu_icon.png" style="height: 13px;width: auto;" /> and select <b>Download Metadata</b>. We recommend that you choose the certificate with the latest expiration date. If you do not have a certificate, or if all of your certificates have expired, click <b>Add Certificate</b> and use the newly created certificate.<p class="Note">The AuthPoint metadata file provides your resource, in this case TOPdesk, with the information necessary to identify AuthPoint as a trusted identity provider.</p></li>
                                            <li value="6">Log in to TOPdesk as an administrator.</li>
                                            <li value="7">Select <img src="_images/TOPdesk/menu-icon.png" alt="The screenshot of menu icon" style="font-weight: bold;" /><b> &gt; Settings</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/TOPdesk-Settings.png" style="max-height: auto;max-width: 100%;" class="hasBorder" title="" alt="Screenshot of TOPdesk Settings" />
                                        </p>
                                        <ol start="8">
                                            <li value="8">Select <b>Overview &gt; Functional Settings &gt; Login Settings &gt; General</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/Topdesk-General.png" style="max-height: auto;max-width: 100%;width: 750px;" class="hasBorder" title="" alt="Screenshot of TOPdesk General" />
                                        </p>
                                        <ol start="9">
                                            <li value="9">To create a public(Self Service Portal) or secure (Operator's section) SAML 2.0 setup, in the <b>SAML login</b> section, click <b>Add configuration</b>. In this example, we add public SSO in TOPdesk.</li>
                                            <li value="10">Select <b>Upload as file</b>.</li>
                                            <li value="11">Click <b>Browse</b>, and then upload the AuthPoint metadata that you downloaded in <a href="#Next">step 5</a>.</li>
                                            <li value="12">From the <b>Entity ID</b> drop-down list, select the URL. If the <b>Entity ID</b> is selected, the <b>Logout URL</b> and <b>Logout response URL</b> values are automatically populated.</li>
                                            <li value="13">In the <b>User name attribute</b> text box, type <span class="Input">username</span>.</li>
                                            <li value="14">Clear the <b>Use signed metadata</b> check box.</li>
                                            <li value="15">Select <b>Host TOPdesk metadata</b>.</li>
                                            <li value="16">Clear the <b>Assertions will be encrypted</b> check box.</li>
                                            <li value="17">Click <b>Generate key pair</b>.</li>
                                            <li value="18"><a name="In"></a>In the <b>Display name</b> text box, type a display name. In this example, type <span class="Input">AuthPoint_Public</span>.</li>
                                            <li value="19">Leave the default value for other settings.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/TOPdesk-Public-SAML-Configuration.png" style="max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" title="" alt="Screenshot of TOPdesk public SAML configuration" />
                                        </p>
                                        <ol start="20" data-mc-continue="true">
                                            <li value="20">Click <b>Save</b>. You can also repeat Steps 9â€“19 to add secure SSO in the <b>Secure</b> section for an operator to log in to Operator Section.</li>
                                            <li value="21"><a name="11In"></a>In the <b>Public</b> section, select the display name you entered in Step 18 (in our example, this is AuthPoint_Public), and then click <b>Download</b> to download the public metadata file and save it on your computer. If you added secure SSO in Step 20, you can also download the secure metadata file in the <b>Secure</b> section. Both the public and secure metadata files can be used in AuthPoint.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/Topdesk-download-public-metadata.png" style="max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" title="" alt="Screenshot of TOPdesk download public metadata file" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="22">In the left navigation bar, select <b>Functional Settings &gt; Login Settings &gt; Self-Service Portal</b>. If you want to enable secure SSO, select <b>Functional Settings &gt; Login Settings &gt; Operator Section</b>.</li>
                                            <li value="23">Select the <b>SAML Single Sign On</b> check box.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/TOPdesk-SAML-SSO-enabled.png" style="max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" title="" alt="Screenshot of TOPdesk SML SSO enabled" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="24">Click <b>Save</b>.</li>
                                        </ol>
                                        <h3 id="CreateaPersonorOperator" data-magellan-target="CreateaPersonorOperator">Create a Person or Operator</h3>
                                        <p>Persons can log in to the Self-Service Portal, while operators can work in TOPdesk's Operator Section. For public SSO you should create a person to be a user. For secure SSO, you need to create an operator as a  user. The email address of the person and operator matches the user's email address in AuthPoint. In this example, we create a person. For more information about how to create an operator, refer to the <a href="https://docs.topdesk.com/en/index-en.html">TOPdesk documentation</a>.</p>
                                        <ol start="1">
                                            <li value="1">Log in to TOPdesk as an administrator.</li>
                                            <li value="2">Click <img alt="The screenshot of menu icon" src="_images/TOPdesk/menu-icon.png" style="font-weight: bold;" /><b> &gt; New &gt; Supporting Files &gt; Person</b>. To create an operator, you would select <b>New &gt; Supporting Files &gt; Operator</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/TOPdesk-Add-Person.png" style="max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" title="" alt="Screenshot of TOPdesk add Person" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">In the <b>Surname</b> text box, type a surname.</li>
                                            <li value="4">In the <b>Email</b> text box, type the email address of the user. This email address must exactly match the email address of the corresponding AuthPoint user account.</li>
                                            <li value="5">From the <b>Branch</b> drop-down list, select a branch.</li>
                                            <li value="6">In the <b>Self-Service Portal</b> section, next to <b>Login name</b>, click <img alt="The screenshot of key icon" src="_images/TOPdesk/Key-icon.png" />.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/TOPdesk-User add details.png" title="" style="max-width: 100%;max-height: auto;" alt="Screenshot of TOPdesk user add details" class="hasBorder" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="7">In the <b>Login data</b> window, add the login credentials for this person.</li>
                                            <li value="8">Click <b>Save</b>.</li>
                                        </ol>
                                        <h2 id="ConfigureAuthPoint" data-magellan-target="ConfigureAuthPoint">Configure AuthPoint</h2>
                                        <p style="page-break-after: always;page-break-before: avoid;">Before AuthPoint can receive authentication requests from TOPdesk, you must add a SAML <a href="#" class="MCTextPopup popup popupHead popupHeaddefinition">resource<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"> </span>In AuthPoint, resources are the applications and services that your users connect to.</span></a> in AuthPoint. You must also create an <a href="#" class="MCTextPopup popup popupHead popupHeaddefinition">authentication policy<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"> </span>Authentication policies specify which resources users can authenticate to and which authentication methods they can use (Push, QR code, and OTP).</span></a> for the TOPdesk resource to determine which users can authenticate and log in to TOPdesk and which authentication methods they can use (Push, QR code, and OTP).</p>
                                        <h3 id="AddaSAMLResourceinAuthPoint" data-magellan-target="AddaSAMLResourceinAuthPoint">Add a SAML Resource in AuthPoint</h3>
                                        <p>From the AuthPoint management UI:</p>
                                        <ol>
                                            <li value="1">From the navigation menu, select <b>Resources</b>.
 Click <b>Add Resource</b>.<br /><span class="NumContinued">The Add Resource page opens.</span><![CDATA[        
        ]]></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_resources.png" style="height: auto;max-width: 100%;max-height: auto;width: 750px;" class="hasBorder" />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="2">From the <b>Type</b> drop-down list, select <b>SAML</b>.<br /><span class="NumContinued">Additional fields appear.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_resources_add.png" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">On the <b>SAML</b> page, in the <b>Name</b> text box, type a name for this resource.</li>
                                            <li value="4">From the <b>Application Type (Integration Guide)</b> drop-down list, select <b>TOPdesk</b>.</li>
                                            <li value="5">Open the public metadata file that you downloaded from TOPdesk in Step 21 of the previous section and copy these values:<ul><li>entityID</li><li>SingleLogout Location</li><li>AssertionConsumerService Location</li></ul><p class="Note">If you want to configure secure SSO, you also get these values from the secure metadata file.</p></li>
                                            <li value="6">In the <b>Service Provider Entity ID</b> text box, paste the <b>entityID</b> value from the public or secure metadata file.</li>
                                            <li value="7">In the <b>Assertion Consumer Service</b> text box, paste the <b>AssertionConsumerService Location</b> value from the public or secure metadata file.<br /></li>
                                            <li value="8">From the <b>User ID sent on redirection to service provider</b> drop-down list, select <b>User Name</b>.</li>
                                            <li value="9">In the Logout URL text box, paste the <b>SingleLogout Location</b> value from the public or secure metadata file.</li>
                                            <li value="10">From the <b>Signature Method</b> drop-down list, select <b>SHA-256</b>.</li>
                                            <li value="11">From the <b>AuthPoint Certificate</b> drop-down list, select the AuthPoint certificate to associate with your resource. This must be the same certificate that you downloaded the metadata for in <a href="#Next">the previous section</a>.</li>
                                            <li value="12">Add a custom attribute for username.<br /><ol><li value="1">In the <b>Custom Attributes</b> section, click <b>Add Attribute</b>.</li><li value="2">In the <b>Attribute Name</b> text box, type <span class="Input">username</span>.</li><li value="3">From the <b>Get Value From</b> drop-down list, select <b>User name</b>.</li></ol></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/username-attribute.png" title="" style="max-width: 100%;max-height: auto;" alt="Screenshot of username attribute in AuthPoint" class="hasBorder" />
                                        </p>
                                        <h3 id="AddaGroupinAuthPoint" data-magellan-target="AddaGroupinAuthPoint">Add a Group in AuthPoint</h3>
                                        <p style="page-break-after: avoid;page-break-before: avoid;">You must have at least one user group in AuthPoint to configure MFA. If you already have a group, you do not have to add another group.</p>
                                        <p>To add a WatchGuard Cloud-hosted group to the WatchGuard Cloud Directory:</p>
                                        <ol>
                                            <li value="1">Go to <b>Configure &gt;&#160;Directories and Domain Services</b>.</li>
                                            <li value="2">Click the WatchGuard Cloud Directory domain name. If you have not yet added the WatchGuard Cloud Directory, click <b>Add Authentication Domain</b> and select the WatchGuard Cloud Directory.<br /><span class="NumContinued">The New Group page appears.</span></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/auth_domains.png" alt="Screenshot that shows the Directories and Domain Services page." />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="3">In the <b>Groups</b> tab, click <b>Add Group</b>.</li>
                                            <li value="4">In the <b>Group Name</b> text box, type a descriptive name for the group.</li>
                                            <li value="5">(Optional) In the <b>Description</b> text box, type a description of the group.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/auth_domain_add_group.png" alt="Screen shot of the Add Group page." />
                                        </p>
                                        <ol data-mc-continue="true">
                                            <li value="6">Click <b>Save</b>.<br /><span class="NumContinued">Your group is added to the WatchGuard Cloud Directory and to AuthPoint.</span></li>
                                        </ol>
                                        <h3 id="AddanAuthenticationPolicytoAuthPoint" data-magellan-target="AddanAuthenticationPolicytoAuthPoint">Add an Authentication Policy to AuthPoint</h3>
                                        <p>Authentication policies specify which resources users can authenticate to and which authentication methods they can use (Push, QR code, and OTP).</p>
                                        <p>You must have at least one authentication policy in AuthPoint that includes the TOPdesk resource. If you already have authentication policies, you do not have to create a new authentication policy. You can add this resource to your existing authentication policies.</p>
                                        <p class="Note">Users that do not have an authentication policy for a specific resource cannot authenticate to log in to that resource.</p>
                                        <p>To configure an authentication policy:</p>
                                        <ol style="page-break-after: avoid;">
                                            <li value="1">From the navigation menu, select <b>Authentication Policies</b>.</li>
                                            <li value="2">Click <b>Add Policy</b>.
</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_policies_empty.png" style="max-height: auto;max-width: 100%;height: auto;width: 850px;" alt="Screenshot of the Add Policy button on the Authentication Policies page." />
                                        </p>
                                        <ol style="page-break-after: avoid;page-break-inside: avoid;" data-mc-continue="true">
                                            <li value="3">Type a name for this policy.</li>
                                            <li value="4">From the <b>Select the Authentication Options</b> drop-down list, select <b>Authentication Options</b> and select which authentication options users can choose from when they authenticate.<p class="Note">For SAML resources, if you select more than one authentication option, users must select one of the available options when they authenticate. For example, if you select OTP and Push, users can choose to type their OTP or approve a push to authenticate. You cannot require that they do both.</p></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_policies_add_auth-options.png" style="height: auto;max-width: 100%;max-height: auto;width: 600px;" />
                                        </p>
                                        <ol style="page-break-after: avoid;page-break-inside: avoid;" data-mc-continue="true">
                                            <li value="5">Select which groups this policy applies to. You can select more than one group. To configure this policy to apply to all groups, select <b>All Groups</b>.</li>
                                            <li value="6">Select the resource that you created in the previous section. If you want this policy to apply to additional resources, select each resource this policy applies to. To configure this policy to apply to all resources, select <b>All Resources</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_policy_groups-resources.png" style="max-width: 100%;max-height: auto;height: auto;width: 600px;" alt="Screenshot of the Add Policy page with the groups and resources selected" />
                                        </p>
                                        <ol style="page-break-after: avoid;page-break-inside: avoid;" data-mc-continue="true">
                                            <li value="7">
                                                <p>(Optional) If you have configured policy objects such as a Network Location, select which policy objects apply to this policy. When you add a policy object to a policy, the policy only applies to user authentications that are the same as the conditions of the policy objects. For example, if you add a Network Location to a policy, the policy only applies to user authentications that come from that Network Location. Users who only have a policy that includes a Network Location do not get access to the resource when they authenticate outside of that Network Location (because they do not have a policy that applies, not because authentication is denied).</p>
                                                <p class="Note">If you configure policy objects, we recommend that you create a second policy for the same groups and resources without the policy objects. The policy with the policy objects should have a higher priority.</p>
                                            </li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_policies_select_policy-objects.png" style="max-height: auto;max-width: 100%;height: auto;width: 600px;" alt="Screenshot of the Policy Objects drop-down list." />
                                        </p>
                                        <ol style="page-break-after: avoid;page-break-inside: avoid;" data-mc-continue="true">
                                            <li value="8">Click <b>Save</b>.
<br /><span class="NumContinued">Your policy is created and added to the end of the policy list.
</span><p class="Note">When you create a new policy, we recommend that you review the order of your policies. AuthPoint always adds new policies to the end of the policy list.</p></li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="../../__Templates/images/apt_policies_save-policy.png" style="max-height: auto;max-width: 100%;height: auto;width: 600px;" alt="Screenshot of the Save button on the Add Policy page." />
                                        </p>
                                        <h3 id="AddUserstoAuthPoint" data-magellan-target="AddUserstoAuthPoint">Add Users to AuthPoint</h3>
                                        <p>Before you assign users to a group, you must add the users to AuthPoint. There are two ways to add AuthPoint user accounts:</p>
                                        <ul>
                                            <li>Sync users from an external user database</li>
                                            <li>Add WatchGuard Cloud-hosted AuthPoint users</li>
                                        </ul>
                                        <p class="Note">Each user must be a member of a group. You must add at least one group before you can add users to AuthPoint.</p>
                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false">To import users from an external user database:<img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="12" width="16" alt="Closed" data-mc-alt2="Open" /></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>To import users from Active Directory, Microsoft Entra ID, or an LDAP database, you must add an <i>external identity</i> in the AuthPoint management UI. External identities connect to user databases to get user account information and validate passwords.</p>
                                                <ul>
                                                    <li>To sync users from Active Directory or an LDAP database, you must add an <i>LDAP external identity</i></li>
                                                    <li> To sync users from Microsoft Entra ID, you must add a <i>Microsoft Entra ID external identity</i></li>
                                                </ul>
                                                <p>When you sync users from an external user database, you can sync any number of users and they are all added to AuthPoint at one time. Users synced from an external user database use the password defined for their user account as their AuthPoint password.</p>
                                                <p>To learn how to sync users, go to <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/authpoint/external-identity_ldap.html" target="_blank">Sync Users from Active Directory or LDAP</a> and <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/authpoint/external-identity_azure-ad.html" target="_blank">Sync Users from Azure Active Directory</a>.</p>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false">To add WatchGuard Cloud-hosted AuthPoint users:<img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="12" width="16" alt="Closed" data-mc-alt2="Open" /></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>You create WatchGuard Cloud-hosted users and groups from the WatchGuard Cloud Directory in WatchGuard Cloud. Directories and Domain Services is where you add shared authentication domains for WatchGuard Cloud devices and services, such as AuthPoint.</p>
                                                <p>Users that you add to the WatchGuard Cloud Directory are automatically added to AuthPoint as well.</p>
                                                <p class="Note">You add local AuthPoint users form Directories and Domain Services. You manage the users in AuthPoint on the Users page.</p>
                                                <p>When you add WatchGuard Cloud-hosted AuthPoint users, you choose whether the user is an MFA user or a non-MFA user.</p>
                                                <ul>
                                                    <li>MFA users are user accounts that will use AuthPoint multi-factor authentication to authenticate. This is not related to the AuthPoint Multi-Factor Authentication license type.</li>
                                                    <li>Non-MFA users are users that will only ever authenticate with a password, such as a service account user. Non-MFA users do not consume an AuthPoint user license and cannot authenticate to resources that require MFA. They can only authenticate to protected resources if the non-MFA user account has a password only authentication policy for that resource.</li>
                                                </ul>
                                                <p>After you add a user, you can edit the user account if you need to change their account type. When you change a user account from MFA to non-MFA, AuthPoint deletes the tokens and password vault (if applicable) that belong to the user. This action cannot be undone.

</p>
                                                <p>Unlike users synced from an external user database, WatchGuard Cloud-hosted AuthPoint users define and manage their own AuthPoint password. When you add a WatchGuard Cloud-hosted user account, the user receives an email that prompts them to set their password.</p>
                                                <p>To learn how to add WatchGuard Cloud-hosted AuthPoint user accounts to the WatchGuard Cloud Directory, go to <a href="https://www.watchguard.com/help/docs/help-center/en-US/Content/en-US/WG-Cloud/authentication/auth_domain_users_add_local.html" target="_blank">Add Local Users to an Authentication Domain</a>.</p>
                                            </div>
                                        </div>
                                        <h2 id="TesttheIntegration" data-magellan-target="TesttheIntegration">Test the Integration</h2>
                                        <p style="page-break-after: avoid;page-break-before: avoid;">To test  AuthPoint MFA with TOPdesk, you can authenticate with a mobile token on your mobile device. You can choose any method (Push, QR code, or OTP). In this example, we show the push authentication method (users receive a push notification in the mobile app that they must approve to authenticate).</p>
                                        <p>TOPdesk supports public(Self-Service Portal) and secure(Operator's Section) SSO. In this example, we use public SSO. You can use secure SSO in the same way.</p>
                                        <ol>
                                            <li value="1">In a web browser, go to the Self-Service Portal (ttps://&lt;your subdomain&gt;.topdesk.net/tas/public/login/saml).</li>
                                            <li value="2">Select the <a href="#In">display name</a> you configured in TOPdesk. In our example, we select <b>AuthPoint_Public</b>.</li>
                                        </ol>
                                        <p class="img_indent_1">
                                            <img src="_images/TOPdesk/Test-self-service-portal.png" title="" style="max-width: 100%;max-height: auto;" alt="Screenshot of Test TOPdesk Self-Service Portal" class="hasBorder" />
                                        </p>
                                        <ol start="3">
                                            <li value="3">Type your email address or AuthPoint user name. Click <b>Next</b>.</li>
                                            <li value="4">If required, in the <b>Password</b> text box, type your password.</li>
                                            <li value="5">For the authentication method, select <b>Send Push</b>.</li>
                                            <li value="6">Approve the authentication request that is sent to your mobile device.<br /><span class="NumContinued">You are logged in to the TOPdesk Self-Service Portal.</span></li>
                                        </ol>
                                    </div>
                                    <p class="FooterTop"><a href="../../en-US/Fireware/support/doc_feedback.html">Give Us Feedback</a>&#160;&#160;â—&#160;&#160;
            <a href="../../en-US/Fireware/support/getsupport.html">Get Support</a>&#160;&#160;â—&#160;&#160;
            <a href="https://www.watchguard.com/wgrd-help/documentation/overview" target="_blank">All Product Documentation</a>&#160;&#160;â—&#160;&#160;
            <a href="https://techsearch.watchguard.com/" target="_blank">Technical Search</a></p>
                                    <p class="Footer">Â© <span class="mc-variable Global.CurrentYear variable">2024</span> WatchGuard Technologies, Inc. All rights reserved. WatchGuard and the WatchGuard logo are registered trademarks or trademarks of WatchGuard Technologies in the United States and other countries. Various other trademarks are held by their respective owners.</p>
                                    <p class="Footer">&#160;</p>
                                    <div id="expand-collapse" title="Expand/collapse navigation" class="collapse">
                                    </div>
                                    <script src="../../Resources/MasterPages/scripts/expand-collapse.js">
                                    </script>
                                    <script src="../../Resources/MasterPages/scripts/cover-hide.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>